<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- Local Geocoding Settings -->
    <PreferenceCategory
        android:key="category_local_geocoding"
        android:title="Local Geocoding" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_show_self_location"
        android:title="Show My Address"
        android:summary="Display your current address on the map above your callsign"
        android:defaultValue="true" />

    <com.atakmap.android.gui.PanEditTextPreference
        android:key="address_refresh_period"
        android:title="Refresh Period (seconds)"
        android:summary="How often to update your address when moving"
        android:defaultValue="5"
        android:inputType="number"
        android:dialogTitle="Refresh Period"
        android:dependency="address_show_self_location" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_photon_fallback"
        android:title="Enable Photon API Fallback"
        android:summary="Use external Photon API when ATAK geocoder fails (sends location to photon.komoot.io)"
        android:defaultValue="false"
        android:dependency="address_show_self_location" />

    <!-- Map Center Crosshairs Geocoding -->
    <PreferenceCategory
        android:key="category_map_center"
        android:title="Map Center Crosshairs" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_show_map_center"
        android:title="Show Crosshairs Address"
        android:summary="Display geocoded address for the map center crosshairs (requires ATAK's 'Designate Map Centre' to be enabled)"
        android:defaultValue="true" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_map_center_photon_fallback"
        android:title="Enable Photon API Fallback"
        android:summary="Use external Photon API when ATAK geocoder fails for crosshairs"
        android:defaultValue="false"
        android:dependency="address_show_map_center" />

    <!-- Nearby POI Settings -->
    <PreferenceCategory
        android:key="category_nearby"
        android:title="Nearby POI" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="nearby_use_custom_icons"
        android:title="Use Custom Icons"
        android:summary="Use custom POI icons on map markers. When off, uses standard CoT symbols."
        android:defaultValue="true" />

    <!-- Search Settings -->
    <PreferenceCategory
        android:key="category_search"
        android:title="Address Search" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_save_history"
        android:title="Save Search History"
        android:summary="Remember recently searched locations"
        android:defaultValue="true" />

    <com.atakmap.android.gui.PanPreference
        android:key="address_clear_history"
        android:title="Clear Search History"
        android:summary="Remove all saved search history" />

    <!-- Offline Data -->
    <PreferenceCategory
        android:key="category_offline"
        android:title="Offline Data" />

    <com.atakmap.android.gui.PanPreference
        android:key="address_manage_offline"
        android:title="Manage Offline Data"
        android:summary="Download state address databases for offline search" />

    <com.atakmap.android.gui.PanCheckBoxPreference
        android:key="address_offline_only"
        android:title="Offline Mode"
        android:summary="Only use downloaded databases (no network requests)"
        android:defaultValue="false" />

    <!-- About -->
    <PreferenceCategory
        android:key="category_about"
        android:title="About" />

    <Preference
        android:key="address_about"
        android:title="Address Plugin"
        android:summary="Nominatim/Photon geocoding with fuzzy search" />

</PreferenceScreen>

